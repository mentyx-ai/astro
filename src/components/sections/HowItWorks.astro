---
// HowItWorks.astro
---

<section class="section how-section" id="how-it-works">
  <div class="container">
    
    <div class="badge-wrapper" data-aos="fade-up">
      <span class="badge-center">Simple. Powerful. Fast.</span>
    </div>
    
    <h2 class="section-heading centered" data-aos="fade-up" data-aos-delay="100">
      How It Works
    </h2>
    
    <p class="section-subtitle centered gradient-text" data-aos="fade-up" data-aos-delay="200">
      From application to approval in hours, not days
    </p>

    <!-- Steps Grid -->
    <div class="steps-grid">
      
      <!-- Step 1 -->
      <div class="step-card" data-aos="fade-up" data-aos-delay="0">
        <div class="step-header">
          <div class="step-number">1</div>
          <div class="step-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
              <polyline points="14 2 14 8 20 8"/>
            </svg>
          </div>
        </div>
        <h3 class="step-title">Borrower Applies Online</h3>
        <p class="step-description">
          Fix & flip investor submits application with property details, rehab budget, and the 9 standard documents—all in one place, mobile-friendly.
        </p>
        <ul class="step-features">
          <li>Online portal or with loan officer</li>
          <li>Purchase price, ARV, rehab scope</li>
          <li>Credit report, appraisal, PSA uploads</li>
        </ul>
      </div>

      <!-- Step 2 -->
      <div class="step-card" data-aos="fade-up" data-aos-delay="100">
        <div class="step-header">
          <div class="step-number">2</div>
          <div class="step-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"/>
              <path d="M12 1v6m0 6v6"/>
              <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"/>
              <path d="M1 12h6m6 0h6"/>
              <path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"/>
            </svg>
          </div>
        </div>
        <h3 class="step-title">AI Extracts & Analyzes</h3>
        <p class="step-description">
          AI reads credit reports, appraisals, and financial docs—extracting credit scores, property values, income, and flags inconsistencies automatically.
        </p>
        <ul class="step-features">
          <li>OCR from PDFs and scanned docs</li>
          <li>Auto-calculates LTV, LTC, ARV ratio</li>
          <li>Flags red flags (missing info, mismatches)</li>
        </ul>
      </div>

      <!-- Step 3 -->
      <div class="step-card" data-aos="fade-up" data-aos-delay="200">
        <div class="step-header">
          <div class="step-number">3</div>
          <div class="step-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
            </svg>
          </div>
        </div>
        <h3 class="step-title">AI Generates Risk Score</h3>
        <p class="step-description">
          Based on your historical loans and custom rules, AI predicts approval likelihood, assigns risk tier, and suggests conditions or pricing adjustments.
        </p>
        <ul class="step-features">
          <li>Risk scoring trained on your data</li>
          <li>DSCR calculations for rentals</li>
          <li>Borrower experience assessment</li>
        </ul>
      </div>

      <!-- Step 4 -->
      <div class="step-card" data-aos="fade-up" data-aos-delay="300">
        <div class="step-header">
          <div class="step-number">4</div>
          <div class="step-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </div>
        </div>
        <h3 class="step-title">Underwriter Decides</h3>
        <p class="step-description">
          Your underwriter reviews the AI-prepared summary, sees all metrics and flags at a glance, and makes the final call—approve, conditional, or decline.
        </p>
        <ul class="step-features">
          <li>Full audit trail for compliance</li>
          <li>One-click decision memos</li>
          <li>Exception handling workflow</li>
        </ul>
      </div>

    </div>

    <!-- Result Banner -->
    <div class="result-banner" data-aos="fade-up" data-aos-delay="400">
      <div class="result-stat">
        <div class="result-value">3 days → 4 hours</div>
        <div class="result-label">Average Decision Time</div>
      </div>
      <div class="result-divider"></div>
      <div class="result-stat">
        <div class="result-value">70% automated</div>
        <div class="result-label">Routine Deals Auto-Approved</div>
      </div>
      <div class="result-divider"></div>
      <div class="result-stat">
        <div class="result-value">90%+ accuracy</div>
        <div class="result-label">AI Risk Assessment</div>
      </div>
    </div>

    <!-- Workflow CTA -->
    <div class="workflow-cta" data-aos="fade-up" data-aos-delay="500">
      <a href="https://calendly.com/contact-mentyx/30min" target="_blank" class="btn btn-primary btn-lg">
        See Your Workflow in Action
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14"/>
          <path d="M12 5l7 7-7 7"/>
        </svg>
      </a>
    </div>

  </div>
</section>

<style>
  /* HOW IT WORKS SPECIFIC STYLES */
  .how-section {
    text-align: center;
    padding: 100px 0;
    background: linear-gradient(135deg, rgba(10, 16, 28, 0.8) 0%, rgba(15, 23, 42, 0.6) 100%);
  }

  .badge-wrapper {
    text-align: center;
    margin-bottom: 32px;
  }

  .badge-center {
    display: inline-block;
    padding: 12px 24px;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 50px;
    color: #06b6d4;
    font-size: 1.125rem;
    font-weight: 600;
    letter-spacing: 0.5px;
  }

  .section-heading.centered {
    text-align: center;
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 24px;
    line-height: 1.1;
    color: white;
  }

  .section-subtitle {
    font-size: 1.75rem;
    font-weight: 600;
    margin-bottom: 80px;
    line-height: 1.3;
    color: #94a3b8;
  }

  .section-subtitle.centered {
    text-align: center;
  }

  .gradient-text {
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .steps-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 24px;
    margin: 80px 0;
  }

  @media (max-width: 1200px) {
    .steps-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .step-card {
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(71, 85, 105, 0.5);
    border-radius: 24px;
    padding: 36px 28px;
    transition: all 0.3s;
    text-align: left;
  }

  .step-card:hover {
    border-color: #3b82f6;
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
  }

  .step-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 24px;
  }

  .step-number {
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.75rem;
    font-weight: 800;
    flex-shrink: 0;
    color: white;
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
  }

  .step-icon {
    width: 56px;
    height: 56px;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #06b6d4;
    flex-shrink: 0;
  }

  .step-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 16px;
    color: white;
  }

  .step-description {
    color: #94a3b8;
    margin-bottom: 20px;
    line-height: 1.7;
    font-size: 1rem;
  }

  .step-features {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .step-features li {
    color: #cbd5e1;
    font-size: 0.9375rem;
    padding: 8px 0;
    padding-left: 24px;
    position: relative;
  }

  .step-features li::before {
    content: '→';
    position: absolute;
    left: 0;
    color: #06b6d4;
    font-weight: bold;
  }

  /* Result Banner */
  .result-banner {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 48px;
    padding: 40px 48px;
    background: rgba(15, 23, 42, 0.8);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 24px;
    backdrop-filter: blur(12px);
    margin: 60px auto 0;
    max-width: 1000px;
  }

  .result-stat {
    text-align: center;
  }

  .result-value {
    font-size: 1.75rem;
    font-weight: 800;
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
    line-height: 1.2;
    white-space: nowrap;
  }

  .result-label {
    color: #94a3b8;
    font-size: 0.9375rem;
    font-weight: 500;
  }

  .result-divider {
    width: 1px;
    height: 60px;
    background: rgba(59, 130, 246, 0.2);
  }

  .workflow-cta {
    text-align: center;
    margin-top: 60px;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 16px 32px;
    border-radius: 9999px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .btn-lg {
    padding: 18px 36px;
    font-size: 1.0625rem;
  }

  .btn-primary {
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
    color: white;
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);
  }

  .btn-primary:hover {
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.5);
    transform: translateY(-2px);
  }

  /* Mobile optimization */
  @media (max-width: 768px) {
    .how-section {
      padding: 60px 0;
    }
    
    .section-heading.centered {
      font-size: 2.5rem;
    }
    
    .section-subtitle {
      font-size: 1.25rem;
      margin-bottom: 60px;
    }
    
    .badge-center {
      font-size: 1rem;
      padding: 10px 20px;
    }
    
    .steps-grid {
      grid-template-columns: 1fr;
      gap: 24px;
      margin: 60px 0;
    }
    
    .step-card {
      padding: 28px 24px;
    }
    
    .step-header {
      gap: 12px;
    }
    
    .step-number, .step-icon {
      width: 48px;
      height: 48px;
    }

    .step-number {
      font-size: 1.5rem;
    }
    
    .step-title {
      font-size: 1.25rem;
    }
    
    .step-description {
      font-size: 0.9375rem;
    }

    .step-features li {
      font-size: 0.875rem;
    }

    .result-banner {
      flex-direction: column;
      gap: 32px;
      padding: 32px 24px;
    }

    .result-divider {
      width: 60px;
      height: 1px;
    }

    .result-value {
      font-size: 1.75rem;
    }

    .result-label {
      font-size: 0.875rem;
    }
  }
</style>